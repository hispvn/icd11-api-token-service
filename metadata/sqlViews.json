{"sqlViews":[{"name":"Anacod export","sharing":{"owner":"Isjs6jdh2th","external":false,"users":{},"userGroups":{},"public":"rw------"},"sqlQuery":"WITH anacodsource AS (\n         SELECT analytics_event_ogrOUKoSaWA.yearly AS year,\n            analytics_event_ogrOUKoSaWA.\"Iu7raZhcHn9\" AS code,\n            analytics_event_ogrOUKoSaWA.\"z4jIMvqs0ff\" AS age,\n            analytics_event_ogrOUKoSaWA.\"F6qFXT44qay\" AS sex\n           FROM analytics_event_ogrOUKoSaWA\n           WHERE analytics_event_ogrOUKoSaWA.yearly = '${year}'\n        ), codes AS (\n         SELECT anacodsource.code,\n            anacodsource.sex\n           FROM anacodsource\n          WHERE (anacodsource.code IS NOT NULL)\n          GROUP BY anacodsource.code, anacodsource.sex\n          ORDER BY anacodsource.code\n        )\n SELECT \n    'Training Land'::text AS country_area,\n    'SLB'::text AS iso3_code,\n    '${year}'::text AS year4,\n    'population'::text AS data_type,\n    NULL AS icd_code,\n    pop.sex AS sex_code,\n    pop.total::INT AS \"total_num\",\n    pop.age_00::INT AS age_00,\n    pop.age_01::INT AS age_01,\n    pop.age_05::INT AS age_05,\n    pop.age_10::INT AS age_10,\n    pop.age_15::INT AS age_15,\n    pop.age_20::INT AS age_20,\n    pop.age_25::INT AS age_25,\n    pop.age_30::INT AS age_30,\n    pop.age_35::INT AS age_35,\n    pop.age_40::INT AS age_40,\n    pop.age_45::INT AS age_45,\n    pop.age_50::INT AS age_50,\n    pop.age_55::INT AS age_55,\n    pop.age_60::INT AS age_60,\n    pop.age_65::INT AS age_65,\n    pop.age_70::INT AS age_70,\n    pop.age_75::INT AS age_75,\n    pop.age_80::INT AS age_80,\n    pop.age_85::INT AS age_85,\n    pop.age_90::INT AS age_90,\n    pop.age_95::INT AS age_95,\n    pop.age_unknown::INT AS age_unknown\n FROM (\n       VALUES\n              (1,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL),\n              (2,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL)\n ) AS pop (sex,total,age_00,age_01,age_05,age_10,age_15,age_20,age_25,age_30,age_35,age_40,age_45,age_50,age_55,age_60,age_65,age_70,age_75,age_80,age_85,age_90,age_95,age_unknown)\n UNION ALL\n SELECT \n    'Training Land'::text AS country_area,\n    'SLB'::text AS iso3_code,\n    '${year}'::text AS year4,\n    'mortality'::text AS data_type,\n    codes.code AS icd_code,\n    CASE\n       WHEN (codes.sex <> 'FEMALE'::text) THEN 1\n       WHEN (codes.sex = 'FEMALE'::text) THEN 2\n       ELSE 9\n    END AS sex_code,\n    ( SELECT count(*) AS count\n           FROM anacodsource\n          WHERE ((anacodsource.code = codes.code) AND (anacodsource.sex = codes.sex))) AS \"total_num\",\n    ( SELECT count(*) AS count\n           FROM anacodsource\n          WHERE (((anacodsource.code = codes.code) AND (anacodsource.sex = codes.sex)) AND (anacodsource.age = (0)::double precision))) AS age_00,\n    ( SELECT count(*) AS count\n           FROM anacodsource\n          WHERE ((((anacodsource.code = codes.code) AND (anacodsource.sex = codes.sex)) AND (anacodsource.age >= (1)::double precision)) AND (anacodsource.age <= (4)::double precision))) AS age_01,\n    ( SELECT count(*) AS count\n           FROM anacodsource\n          WHERE ((((anacodsource.code = codes.code) AND (anacodsource.sex = codes.sex)) AND (anacodsource.age >= (5)::double precision)) AND (anacodsource.age <= (9)::double precision))) AS age_05,\n    ( SELECT count(*) AS count\n           FROM anacodsource\n          WHERE ((((anacodsource.code = codes.code) AND (anacodsource.sex = codes.sex)) AND (anacodsource.age >= (10)::double precision)) AND (anacodsource.age <= (14)::double precision))) AS age_10,\n    ( SELECT count(*) AS count\n           FROM anacodsource\n          WHERE ((((anacodsource.code = codes.code) AND (anacodsource.sex = codes.sex)) AND (anacodsource.age >= (15)::double precision)) AND (anacodsource.age <= (19)::double precision))) AS age_15,\n    ( SELECT count(*) AS count\n           FROM anacodsource\n          WHERE ((((anacodsource.code = codes.code) AND (anacodsource.sex = codes.sex)) AND (anacodsource.age >= (20)::double precision)) AND (anacodsource.age <= (24)::double precision))) AS age_20,\n    ( SELECT count(*) AS count\n           FROM anacodsource\n          WHERE ((((anacodsource.code = codes.code) AND (anacodsource.sex = codes.sex)) AND (anacodsource.age >= (25)::double precision)) AND (anacodsource.age <= (29)::double precision))) AS age_25,\n    ( SELECT count(*) AS count\n           FROM anacodsource\n          WHERE ((((anacodsource.code = codes.code) AND (anacodsource.sex = codes.sex)) AND (anacodsource.age >= (30)::double precision)) AND (anacodsource.age <= (34)::double precision))) AS age_30,\n    ( SELECT count(*) AS count\n           FROM anacodsource\n          WHERE ((((anacodsource.code = codes.code) AND (anacodsource.sex = codes.sex)) AND (anacodsource.age >= (35)::double precision)) AND (anacodsource.age <= (39)::double precision))) AS age_35,\n    ( SELECT count(*) AS count\n           FROM anacodsource\n          WHERE ((((anacodsource.code = codes.code) AND (anacodsource.sex = codes.sex)) AND (anacodsource.age >= (40)::double precision)) AND (anacodsource.age <= (44)::double precision))) AS age_40,\n    ( SELECT count(*) AS count\n           FROM anacodsource\n          WHERE ((((anacodsource.code = codes.code) AND (anacodsource.sex = codes.sex)) AND (anacodsource.age >= (45)::double precision)) AND (anacodsource.age <= (49)::double precision))) AS age_45,\n    ( SELECT count(*) AS count\n           FROM anacodsource\n          WHERE ((((anacodsource.code = codes.code) AND (anacodsource.sex = codes.sex)) AND (anacodsource.age >= (50)::double precision)) AND (anacodsource.age <= (54)::double precision))) AS age_50,\n    ( SELECT count(*) AS count\n           FROM anacodsource\n          WHERE ((((anacodsource.code = codes.code) AND (anacodsource.sex = codes.sex)) AND (anacodsource.age >= (55)::double precision)) AND (anacodsource.age <= (59)::double precision))) AS age_55,\n    ( SELECT count(*) AS count\n           FROM anacodsource\n          WHERE ((((anacodsource.code = codes.code) AND (anacodsource.sex = codes.sex)) AND (anacodsource.age >= (60)::double precision)) AND (anacodsource.age <= (64)::double precision))) AS age_60,\n    ( SELECT count(*) AS count\n           FROM anacodsource\n          WHERE ((((anacodsource.code = codes.code) AND (anacodsource.sex = codes.sex)) AND (anacodsource.age >= (65)::double precision)) AND (anacodsource.age <= (69)::double precision))) AS age_65,\n    ( SELECT count(*) AS count\n           FROM anacodsource\n          WHERE ((((anacodsource.code = codes.code) AND (anacodsource.sex = codes.sex)) AND (anacodsource.age >= (70)::double precision)) AND (anacodsource.age <= (74)::double precision))) AS age_70,\n    ( SELECT count(*) AS count\n           FROM anacodsource\n          WHERE ((((anacodsource.code = codes.code) AND (anacodsource.sex = codes.sex)) AND (anacodsource.age >= (75)::double precision)) AND (anacodsource.age <= (79)::double precision))) AS age_75,\n    ( SELECT count(*) AS count\n           FROM anacodsource\n          WHERE ((((anacodsource.code = codes.code) AND (anacodsource.sex = codes.sex)) AND (anacodsource.age >= (80)::double precision)) AND (anacodsource.age <= (84)::double precision))) AS age_80,\n    ( SELECT count(*) AS count\n           FROM anacodsource\n          WHERE ((((anacodsource.code = codes.code) AND (anacodsource.sex = codes.sex)) AND (anacodsource.age >= (85)::double precision)) AND (anacodsource.age <= (89)::double precision))) AS age_85,\n    ( SELECT count(*) AS count\n           FROM anacodsource\n          WHERE ((((anacodsource.code = codes.code) AND (anacodsource.sex = codes.sex)) AND (anacodsource.age >= (90)::double precision)) AND (anacodsource.age <= (94)::double precision))) AS age_90,\n    ( SELECT count(*) AS count\n           FROM anacodsource\n          WHERE (((anacodsource.code = codes.code) AND (anacodsource.sex = codes.sex)) AND (anacodsource.age >= (95)::double precision))) AS age_95,\n    ( SELECT count(*) AS count\n           FROM anacodsource\n          WHERE (((anacodsource.code = codes.code) AND (anacodsource.sex = codes.sex)) AND (anacodsource.age IS NULL))) AS age_unknown\n   FROM codes;","type":"QUERY","cacheStrategy":"NO_CACHE","id":"XpI2kVApPIH","attributeValues":[]}]}